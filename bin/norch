#!/usr/bin/env node

var listToArray = function (val) {
  return [].concat(val.split(','))
}

var program = require('commander')
program.version(require('../package.json').version)
  .option('-p, --port <port>', 'specify the port, defaults to PORT or 3030', Number, process.env.PORT || 3030)
  .option('-i, --indexPath <indexPath>', 'specify the name of the index directory, defaults to norch-index', String, 'norch-index')
  .option('-l, --logLevel <logLevel>', 'specify the loglevel- silly | debug | verbose | info | warn | error', String, 'info')
  .parse(process.argv)

var options = {}
options.indexPath = program.indexPath
options.logLevel = program.logLevel
options.port = program.port

require('../lib/norch.js')(options, function(err, norch) {
  //what to do here?
  return norch
})

